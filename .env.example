# =========================
# Shared / Global
# =========================
NODE_ENV=development
APP_NAME=tg-miniapp-casino
PUBLIC_APP_URL=http://localhost:3000
PUBLIC_WEBAPP_URL=http://localhost:3000

# =========================
# Telegram Bot
# =========================
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN
TELEGRAM_WEBHOOK_SECRET=change_me_long_random
TELEGRAM_WEBHOOK_PATH=/tg/webhook
TELEGRAM_ADMIN_CHAT_ID=0

# Payments (Telegram Stars)
# Stars uses provider token. In BotFather -> Payments.
TELEGRAM_STARS_PROVIDER_TOKEN=YOUR_PROVIDER_TOKEN
# Webapp invoice prices are in "stars" as integer amount.
STARS_CURRENCY=XTR

# =========================
# Backend
# =========================
BACKEND_PORT=8080
BACKEND_HOST=0.0.0.0
BACKEND_PUBLIC_URL=http://localhost:8080
CORS_ORIGINS=http://localhost:3000,https://*.pages.dev

# Telegram WebApp initData verification
TELEGRAM_BOT_TOKEN_FOR_INITDATA=YOUR_BOT_TOKEN

# Rate limit
RATE_LIMIT_MAX=120
RATE_LIMIT_TIME_WINDOW_MS=60000

# Idempotency
IDEMPOTENCY_TTL_SECONDS=86400

# =========================
# Database (Postgres)
# =========================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tgcasino?schema=public

# =========================
# Redis (Upstash or local)
# =========================
REDIS_URL=redis://localhost:6379
REDIS_TLS=0

# BullMQ
BULL_PREFIX=tgcasino

# =========================
# TON
# =========================
TON_NETWORK=mainnet
# Where users send TON deposits for rooms/staking:
TON_RECEIVER_ADDRESS=EQXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# One of these:
TONAPI_KEY=YOUR_TONAPI_KEY
TONCENTER_API_KEY=YOUR_TONCENTER_KEY
# Optional custom endpoints:
TONAPI_BASE_URL=https://tonapi.io
TONCENTER_BASE_URL=https://toncenter.com/api/v2

# =========================
# Webapp (Next.js)
# =========================
NEXT_PUBLIC_BACKEND_URL=http://localhost:8080
# Public WebApp URL (used during build to generate TonConnect manifest)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Casino Rooms
# Your bot username (without @) for referral deep-links
NEXT_PUBLIC_BOT_USERNAME=YOUR_BOT_USERNAME
# Web App shortname configured in BotFather (for startapp deep-links)
NEXT_PUBLIC_WEBAPP_SHORTNAME=YOUR_WEBAPP_SHORTNAME
NEXT_PUBLIC_TON_NETWORK=mainnet
NEXT_PUBLIC_TON_RECEIVER_ADDRESS=EQXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# TonConnect manifest URL (hosted on your webapp domain)
NEXT_PUBLIC_TONCONNECT_MANIFEST_URL=http://localhost:3000/tonconnect-manifest.json

# =========================
# Anti-multiaccount
# =========================
DEVICE_FINGERPRINT_SALT=change_me_long_random
REFERRAL_COOLDOWN_SECONDS=86400
MAX_REFERRALS_PER_DEVICE_PER_DAY=3

# =========================
# Staking config
# =========================
STAKING_APR_BPS=1200
STAKING_MIN_LOCK_SECONDS=86400